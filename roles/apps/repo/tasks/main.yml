---
- name: Tilix - install
  package:
    name: tilix
    state: present
  become: yes

- name: Tilix - dark theme
  dconf:
    key: /com/gexperts/Tilix/theme-variant
    value: "'dark'"

- name: Tilix - use tabs
  dconf:
    key: /com/gexperts/Tilix/use-tabs
    value: "true"

- name: Tilix - hide title for single tile
  dconf:
    key: /com/gexperts/Tilix/terminal-title-show-when-single
    value: "false"

- name: Tilix - wide separators
  dconf:
    key: /com/gexperts/Tilix/enable-wide-handle
    value: "true"

- name: Tilix - default terminal
  dconf:
    key: /org/gnome/desktop/applications/terminal/exec
    value: "'tilix'"

- name: Tilix - open in full screen and focus existing window
  dconf:
    key: /org/gnome/desktop/applications/terminal/exec-arg
    value: "'--full-screen --focus-window'"

- name: Tilix - open with Ctrl+Alt+T (prepare)
  dconf:
    key: /org/gnome/settings-daemon/plugins/media-keys/custom-keybindings
    value: "['/org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom0/']"

- name: Tilix - open with Ctrl+Alt+T (name)
  dconf:
    key: /org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom0/name
    value: "'Tilix'"

- name: Tilix - open with Ctrl+Alt+T (command)
  dconf:
    key: /org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom0/command
    value: "'tilix --full-screen --focus-window'"

- name: Tilix - open with Ctrl+Alt+T (binding)
  dconf:
    key: /org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom0/binding
    value: "'<Primary><Alt>t'"

- name: Uninstall GNOME Terminal
  package:
    name: gnome-terminal
    state: absent
  become: yes

- name: Install used GNOME apps
  package:
    name:
      - baobab # Disk usage analyzer
      - eog # Eye of GNOME
      - evince # PDF
      - file-roller # archives
      - gedit # text editor
      - gnome-calculator
      - gnome-calendar
      - gnome-clocks
      - gnome-characters
      - gnome-photos
      - gnome-screenshot
      - gnome-software
      - gnome-system-monitor
      - gnome-weather
      - nautilus # file explorer
    state: present
  become: yes

- name: Uninstall unused GNOME apps, Evolution, Cheese, Rhytmbox and Simple Scan
  package:
    name:
      - evolution
      - cheese
      - gnome-boxes
      - gnome-contacts
      - gnome-documents
      - gnome-maps
      - rhythmbox
      - simple-scan
    state: absent
  become: yes

- name: RPM Fusion free
  package:
    name: "https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-{{ fedora_version }}.noarch.rpm"
    state: present
  become: yes

- name: Media codecs
  package:
    name:
      - ffmpeg # for Firefox
      - gstreamer
      - gstreamer-ffmpeg
      - gstreamer1-plugin-openh264
      - openh264
      - gstreamer1-libav
    state: present
  become: yes
